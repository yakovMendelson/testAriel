let myDB = {};


myDB.dataStudents = {
    1: { name: 'yakov1', age: 20, year: 1, successful: true, ID: 3215648614, imag: "poto1.jpg", ids: '1' },
    2: { name: 'yakov2', age: 21, year: 2, successful: false, ID: 3856489646, imag: "poto2.jpg", ids: '2' },
    3: { name: 'yakov3', age: 22, year: 5, successful: false, ID: 8564564564, imag: "poto3.jpg", ids: '3' },
    4: { name: 'yakov4', age: 23, year: 1, successful: false, ID: 8549499656, imag: "poto4.jpg", ids: '4' },
    5: { name: 'yakov5', age: 24, year: 3, successful: false, ID: 4585646556, imag: "poto5.jpg", ids: '5' },
    6: { name: 'yakov6', age: 25, year: 2, successful: true, ID: 8646485685, imag: "poto6.jpg", ids: '6' },
    7: { name: 'yakov7', age: 26, year: 3, successful: false, ID: 748968766, imag: "poto7.jpg", ids: '7' },
    8: { name: 'yakov8', age: 27, year: 6, successful: true, ID: 8456658549, imag: "poto8.jpg", ids: '8' },
    9: { name: 'yakov9', age: 28, year: 1, successful: false, ID: 8413686857, imag: "poto9.jpg", ids: '9' },
    10: { name: 'yakov10', age: 29, year: 4, successful: false, ID: 849499499, imag: "poto10.jpg", ids: '10' },
    11: { name: 'yakov11', age: 30, year: 2, successful: false, ID: 64366546546, imag: "poto11.jpg", ids: '11' },
    12: { name: 'yakov12', age: 31, year: 6, successful: false, ID: 1456464666, imag: "poto12.jpg", ids: '12' },
};


myDB.thechars = {
    1: { name: 'moshe1', age: 30, year: 3, successful: false, imag: "poto11.jpg", ids: '1' },
    2: { name: 'moshe2', age: 31, year: 4, successful: false, imag: "poto12.jpg", ids: '2' },
    3: { name: 'moshe3', age: 32, year: 1, successful: false, imag: "poto13.jpg", ids: '3' },
    4: { name: 'moshe4', age: 33, year: 6, successful: true, imag: "poto14.jpg", ids: '4' },
    5: { name: 'moshe5', age: 34, year: 3, successful: false, imag: "poto15.jpg", ids: '5' },
    6: { name: 'moshe6', age: 35, year: 2, successful: false, imag: "poto16.jpg", ids: '6' },
    7: { name: 'moshe7', age: 36, year: 6, successful: false, imag: "poto17.jpg", ids: '7' },
    8: { name: 'moshe8', age: 37, year: 3, successful: true, imag: "poto18.jpg", ids: '8' },
    9: { name: 'moshe9', age: 38, year: 2, successful: false, imag: "poto19.jpg", ids: '9' },
    10: { name: 'moshe10', age: 39, year: 4, successful: false, imag: "poto20.jpg", ids: '10' },
    11: { name: 'moshe11', age: 40, year: 1, successful: false, imag: "poto21.jpg", ids: '11' },
    12: { name: 'moshe12', age: 41, year: 6, successful: false, imag: "poto22.jpg", ids: '12' },
};
myDB.avratech = {
    1: { name: 'moshe21', age: 30, year: 2, successful: false, imag: "poto11.jpg", ids: '1' },
    2: { name: 'moshe22', age: 31, year: 4, successful: false, imag: "poto12.jpg", ids: '2' },
    3: { name: 'moshe23', age: 32, year: 4, successful: false, imag: "poto13.jpg", ids: '3' },
    4: { name: 'moshe24', age: 33, year: 6, successful: true, imag: "poto14.jpg", ids: '4' },
    5: { name: 'moshe25', age: 34, year: 3, successful: false, imag: "poto15.jpg", ids: '5' },
    6: { name: 'moshe26', age: 35, year: 2, successful: false, imag: "poto16.jpg", ids: '6' },
    7: { name: 'moshe27', age: 36, year: 6, successful: false, imag: "poto17.jpg", ids: '7' },
    8: { name: 'moshe28', age: 54, year: 6, successful: true, imag: "poto18.jpg", ids: '8' },
    9: { name: 'moshe29', age: 38, year: 2, successful: true, imag: "poto19.jpg", ids: '9' },
    10: { name: 'moshe30', age: 39, year: 4, successful: false, imag: "poto20.jpg", ids: '10' },
    11: { name: 'moshe31', age: 20, year: 1, successful: false, imag: "poto21.jpg", ids: '11' },
    12: { name: 'moshe32', age: 41, year: 6, successful: false, imag: "poto22.jpg", ids: '12' },
};
myDB.breslev = {
    1: { name: 'moshe40', age: 30, year: 6, successful: false, imag: "poto11.jpg", ids: '1' },
    2: { name: 'moshe41', age: 31, year: 4, successful: false, imag: "poto12.jpg", ids: '2' },
    3: { name: 'moshe42', age: 84, year: 1, successful: false, imag: "poto13.jpg", ids: '3' },
    4: { name: 'moshe43', age: 33, year: 2, successful: true, imag: "poto14.jpg", ids: '4' },
    5: { name: 'moshe44', age: 34, year: 3, successful: false, imag: "poto15.jpg", ids: '5' },
    6: { name: 'moshe45', age: 35, year: 2, successful: false, imag: "poto16.jpg", ids: '6' },
    7: { name: 'moshe46', age: 36, year: 6, successful: false, imag: "poto17.jpg", ids: '7' },
    8: { name: 'moshe47', age: 67, year: 3, successful: true, imag: "poto18.jpg", ids: '8' },
    9: { name: 'moshe48', age: 38, year: 2, successful: false, imag: "poto19.jpg", ids: '9' },
    10: { name: 'moshe49', age: 39, year: 4, successful: false, imag: "poto20.jpg", ids: '10' },
    11: { name: 'moshe50', age: 40, year: 5, successful: true, imag: "poto21.jpg", ids: '11' },
    12: { name: 'moshe', age: 41, year: 6, successful: false, imag: "poto22.jpg", ids: '12' },
};



let templetS_A = `
                <div class="contanerListSA">
                 <div> <label>Name: </label> <span>#name#</span> </div>
                 <div> <label>ID: </label> <span>#ID#</span> </div>
                <div> <label>Age: </label> <span>#age#</span> </div>
                <div> <label>Year: </label> <span>#year#</span> </div>
                <div> <label>Successful: </label> <span>#successful#</span> </div>
                </div>
            `;

let templetS_B = `
                <div class="contanerListSB">
                 <div> <label>Name: </label> <span>#name#</span> </div>
                <div> <label>Age: </label> <span>#age#</span> </div>
                <div> <label>Year: </label> <span>#year#</span> </div>
                <div> <label>Successful: </label> <span>#successful#</span> </div>
                </div>
            `;

let listStuAHTML = document.querySelector(".templateSA");
listStuAHTML.innerHTML = render(templetS_A, myDB.dataStudents);

let listStuBHTML = document.querySelector(".templateSB");
listStuBHTML.innerHTML = render(templetS_B, myDB.dataStudents);




let templateComRenA = `<new-card idS=#ids# list="dataStudents" ></new-card>`;
let templateComRenB = `<new-card idS=#ids# list="thechars" ></new-card>`;


let newComRenAHTML = document.querySelector("#cardAllRenA");
newComRenAHTML.innerHTML = render(templateComRenA, myDB.dataStudents);


let newComRenBHTML = document.querySelector("#cardAllRenB");
newComRenBHTML.innerHTML = render(templateComRenB, myDB.thechars);



class NewCard extends HTMLElement {
    constructor() {
        super()

        let shadow = this.attachShadow({ mode: 'open' });
        this.div = document.createElement('div');
        this.img = document.createElement('img');
        this.details = document.createElement('div');

        this.div.className = 'divCon';
        this.details.className = 'divDet';

        shadow.appendChild(this.div);
        this.div.appendChild(this.img);
        this.div.appendChild(this.details);


        this.idS = this.getAttribute('idS');
        let data = this.getAttribute('list');



        this.dataStu = myDB[data][this.idS];
        this.img.src = `${this.dataStu['imag']}`;

        this.setAttribute('year', this.dataStu['year']);
        this.setAttribute('successful', this.dataStu['successful']);


        let a = this.getAttribute('year');
        let background = `rgb(${a * 30},${a * 45},${a * 55})`
        let b = (this.getAttribute('successful') == 'true');

        let color = b ? 'blue' : 'black';
        let buld = b ? 'bold' : 'normal';

        let style = document.createElement('style');
        style.textContent = `
        img{
            width: 120px;
            height: 120px;
        }
        .contanerListSA{
           
            width: 120px;
            height: 120px;
         }
         .divCon{
            background: ${background};
            border: 2px solid black;
            margin: 10px; 
            width: 120px;
            height: 220px;
         }
         .divDet{
             color:${color};
             font-weight: ${buld};
         }`;

        shadow.appendChild(style);
        this.details.innerHTML = renderB(templetS_B, this.dataStu);
    };
};
customElements.define('new-card', NewCard);


class NewSelect extends HTMLElement {
    constructor() {
        super();
        let shadow = this.attachShadow({ mode: 'open' });
        this.div = document.createElement('div')
        this.select = document.createElement('select');
        this.details = document.createElement('div');



        this.select.innerHTML = `
        <option>dataStudents</option>
        <option>thechars</option>
        <option>avratech</option>
        <option>breslev</option>`


        shadow.appendChild(this.div);
        this.div.appendChild(this.select);
        this.div.appendChild(this.details);

        this.select.onchange = () => {
            let clas = this.select.value;
            let templateSelect = `<new-card idS=#ids# list="${clas}" ></new-card>`;

            this.details.innerHTML = render(templateSelect, myDB[clas]);

        }


    };
};
customElements.define('new-select', NewSelect);